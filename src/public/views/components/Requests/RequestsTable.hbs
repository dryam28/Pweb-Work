<table id="mytable" class="table ">
  <thead>
    <tr>
      <th><input type="checkbox" id="checkall" /></th>
      <th>Estado</th>
      <th>Correo</th>
      <th>Nombre</th>
      <th>Apellidos</th>
      <th>Solicitud</th>
      <th></th>
    </tr>
  </thead>
  <tbody id="tableBody">
    {{#each requests}}
    <tr style="vertical-align: middle;">
      <td><input id="{{id}}" type="checkbox" class="checkthis" /></td>
      <td><span class="status fw-bold text-white rounded-1 p-2">{{#ifIsNull accepted}}{{/ifIsNull}}</span></td>
      <td>{{'Worker.email'}}</td>
      <td>{{'Worker.name'}}</td>
      <td class="text-capitalize">{{'Worker.lastName'}}</td>
      <td class="text-capitalize">{{type}}</td>
      <td>
        <a href="/requests/{{id}}" class="btn btn-outline-secondary p-2 ">
          <i class="bi bi-eye-fill" style="font-size: 1.3rem;"></i>
          </button>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const status = document.querySelectorAll('.status')
    let content
    status.forEach(item => {
      content = item.innerHTML.toLocaleLowerCase()
      item.classList.add(content === 'rechazada' ? "bg-danger" : content === 'pendiente' ? "bg-secondary" : "bg-success")
    })
  })
</script>